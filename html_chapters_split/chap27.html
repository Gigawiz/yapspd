<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="GENERATOR" content="techdoc v0.0.1">
<link rel="stylesheet" type="text/css" href="techdoc.css">
<br><title> yet another PlayStationPortable Documentation</title>
</head>
<body><h2><a name="sec27">
27</a>&nbsp;&nbsp;Graphic Formats</h2>
<br><div class="idx"><a href="index.html#idx27.1">index</a></div>
<h3>
<a name="sec27.1">
27.1</a>&nbsp;&nbsp;1555 ABGR</h3>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>abbb</tt></td>
<td nowrap align="right"><tt>bbgg</tt></td>
<td nowrap><tt>gggr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">a</td>
<td nowrap>alpha</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">b</td>
<td nowrap>blue</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">g</td>
<td nowrap>green</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">r</td>
<td nowrap>red</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="index.html#idx27.2">index</a></div>
<h3>
<a name="sec27.2">
27.2</a>&nbsp;&nbsp;4444 ABGR</h3>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
<td nowrap><tt>gggg</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">a</td>
<td nowrap>alpha</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">b</td>
<td nowrap>blue</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">g</td>
<td nowrap>green</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">r</td>
<td nowrap>red</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="index.html#idx27.3">index</a></div>
<h3>
<a name="sec27.3">
27.3</a>&nbsp;&nbsp;565 BGR</h3>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>bbbb</tt></td>
<td nowrap align="right"><tt>bggg</tt></td>
<td nowrap><tt>gggr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">b</td>
<td nowrap>blue</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">g</td>
<td nowrap>green</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">r</td>
<td nowrap>red</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="index.html#idx27.4">index</a></div>
<h3>
<a name="sec27.4">
27.4</a>&nbsp;&nbsp;8888 ABGR</h3>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>aaaa</tt></td>
<td nowrap><tt>bbbb</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
<td nowrap><tt>gggg</tt></td>
<td nowrap align="right"><tt>gggg</tt></td>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">a</td>
<td nowrap>alpha</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">b</td>
<td nowrap>blue</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">g</td>
<td nowrap>green</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">r</td>
<td nowrap>red</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="index.html#idx27.5">index</a></div>
<h3>
<a name="sec27.5">
27.5</a>&nbsp;&nbsp;swizzling</h3>
<br>
Internally, the GE processes textures as 16 bytes by 8 rows blocks
(independent of actual pixelformat, so a 32*32 32-bit texture is
a 128*32 texture from the swizzlings point of view). When you are
not swizzling, this means it will have to do scattered reads from
the texture as it moves the block into its texture-cache, which has
a big impact on performance. To improve on this, you can re-order
your textures into these blocks so that it can fetch one entire block
by reading sequentially.<br><br><table><tr><td nowrap align="center">
<table><tr>
<td nowrap width="0">
<tt>00&nbsp;01&nbsp;02&nbsp;03&nbsp;04&nbsp;05&nbsp;06&nbsp;07&nbsp;08&nbsp;09&nbsp;0A&nbsp;0B&nbsp;0C&nbsp;0D&nbsp;0E&nbsp;0F</tt><br><tt>10&nbsp;11&nbsp;12&nbsp;13&nbsp;14&nbsp;15&nbsp;16&nbsp;17&nbsp;18&nbsp;19&nbsp;1A&nbsp;1B&nbsp;1C&nbsp;1D&nbsp;1E&nbsp;1F</tt><br><tt>20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2A&nbsp;2B&nbsp;2C&nbsp;2D&nbsp;2E&nbsp;2F</tt><br><tt>30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3A&nbsp;3B&nbsp;3C&nbsp;3D&nbsp;3E&nbsp;3F</tt><br><tt>40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;46&nbsp;47&nbsp;48&nbsp;49&nbsp;4A&nbsp;4B&nbsp;4C&nbsp;4D&nbsp;4E&nbsp;4F</tt><br><tt>50&nbsp;51&nbsp;52&nbsp;53&nbsp;54&nbsp;55&nbsp;56&nbsp;57&nbsp;58&nbsp;59&nbsp;5A&nbsp;5B&nbsp;5C&nbsp;5D&nbsp;5E&nbsp;5F</tt><br><tt>60&nbsp;61&nbsp;62&nbsp;63&nbsp;64&nbsp;65&nbsp;66&nbsp;67&nbsp;68&nbsp;69&nbsp;6A&nbsp;6B&nbsp;6C&nbsp;6D&nbsp;6E&nbsp;6F</tt><br><tt>70&nbsp;71&nbsp;72&nbsp;73&nbsp;74&nbsp;75&nbsp;76&nbsp;77&nbsp;78&nbsp;79&nbsp;7A&nbsp;7B&nbsp;7C&nbsp;7D&nbsp;7E&nbsp;7F</tt>
</td>
<td nowrap width="0">
<tt>0G&nbsp;0H&nbsp;0I&nbsp;0J&nbsp;0K&nbsp;0L&nbsp;0M&nbsp;0N&nbsp;0O&nbsp;0P&nbsp;0Q&nbsp;0R&nbsp;0S&nbsp;0T&nbsp;0U&nbsp;0V</tt><br><tt>1G&nbsp;1H&nbsp;1I&nbsp;1J&nbsp;1K&nbsp;1L&nbsp;1M&nbsp;1N&nbsp;1O&nbsp;1P&nbsp;1Q&nbsp;1R&nbsp;1S&nbsp;1T&nbsp;1U&nbsp;1V</tt><br><tt>2G&nbsp;2H&nbsp;2I&nbsp;2J&nbsp;2K&nbsp;2L&nbsp;2M&nbsp;2N&nbsp;2O&nbsp;2P&nbsp;2Q&nbsp;2R&nbsp;2S&nbsp;2T&nbsp;2U&nbsp;2V</tt><br><tt>3G&nbsp;3H&nbsp;3I&nbsp;3J&nbsp;3K&nbsp;3L&nbsp;3M&nbsp;3N&nbsp;3O&nbsp;3P&nbsp;3Q&nbsp;3R&nbsp;3S&nbsp;3T&nbsp;3U&nbsp;3V</tt><br><tt>4G&nbsp;4H&nbsp;4I&nbsp;4J&nbsp;4K&nbsp;4L&nbsp;4M&nbsp;4N&nbsp;4O&nbsp;4P&nbsp;4Q&nbsp;4R&nbsp;4S&nbsp;4T&nbsp;4U&nbsp;4V</tt><br><tt>5G&nbsp;5H&nbsp;5I&nbsp;5J&nbsp;5K&nbsp;5L&nbsp;5M&nbsp;5N&nbsp;5O&nbsp;5P&nbsp;5Q&nbsp;5R&nbsp;5S&nbsp;5T&nbsp;5U&nbsp;5V</tt><br><tt>6G&nbsp;6H&nbsp;6I&nbsp;6J&nbsp;6K&nbsp;6L&nbsp;6M&nbsp;6N&nbsp;6O&nbsp;6P&nbsp;6Q&nbsp;6R&nbsp;6S&nbsp;6T&nbsp;6U&nbsp;6V</tt><br><tt>7G&nbsp;7H&nbsp;7I&nbsp;7J&nbsp;7K&nbsp;7L&nbsp;7M&nbsp;7N&nbsp;7O&nbsp;7P&nbsp;7Q&nbsp;7R&nbsp;7S&nbsp;7T&nbsp;7U&nbsp;7V</tt>
</td>
</tr></table>
</td></tr></table>
<br><br>
The block above is a 32 bytes by 8 lines texture block (so it could
be a 8*8 32-bit block, or a 16*8 16-bit block). Each pixel is
represented here by a vertical index (first value) of 0-7. The second
index is the horizontal index, ranging from 0-U. When reorganizing
this for swizzling, we will order the data so that when the GE needs
to read something in the first 16&times;8 block, if can just fetch that
entire block, instead of offsetting into the texture for each line
it has to read. The resulting swizzled portion looks like this:<br><br><table><tr><td nowrap align="center">
<table>
<tr><td nowrap width="0">
<tt>00&nbsp;01&nbsp;02&nbsp;03&nbsp;04&nbsp;05&nbsp;06&nbsp;07&nbsp;08&nbsp;09&nbsp;0A&nbsp;0B&nbsp;0C&nbsp;0D&nbsp;0E&nbsp;0F</tt><tt><b>&nbsp;</b></tt><tt>10&nbsp;11&nbsp;12&nbsp;13&nbsp;14&nbsp;15&nbsp;16&nbsp;17&nbsp;18&nbsp;19&nbsp;1A&nbsp;1B&nbsp;1C&nbsp;1D&nbsp;1E&nbsp;1F</tt><br><tt>20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2A&nbsp;2B&nbsp;2C&nbsp;2D&nbsp;2E&nbsp;2F</tt><tt><b>&nbsp;</b></tt><tt>30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3A&nbsp;3B&nbsp;3C&nbsp;3D&nbsp;3E&nbsp;3F</tt><br><tt>40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;46&nbsp;47&nbsp;48&nbsp;49&nbsp;4A&nbsp;4B&nbsp;4C&nbsp;4D&nbsp;4E&nbsp;4F</tt><tt><b>&nbsp;</b></tt><tt>50&nbsp;51&nbsp;52&nbsp;53&nbsp;54&nbsp;55&nbsp;56&nbsp;57&nbsp;58&nbsp;59&nbsp;5A&nbsp;5B&nbsp;5C&nbsp;5D&nbsp;5E&nbsp;5F</tt><br><tt>60&nbsp;61&nbsp;62&nbsp;63&nbsp;64&nbsp;65&nbsp;66&nbsp;67&nbsp;68&nbsp;69&nbsp;6A&nbsp;6B&nbsp;6C&nbsp;6D&nbsp;6E&nbsp;6F</tt><tt><b>&nbsp;</b></tt><tt>70&nbsp;71&nbsp;72&nbsp;73&nbsp;74&nbsp;75&nbsp;76&nbsp;77&nbsp;78&nbsp;79&nbsp;7A&nbsp;7B&nbsp;7C&nbsp;7D&nbsp;7E&nbsp;7F</tt>
</td></tr>
<tr><td nowrap width="0">
<tt>0G&nbsp;0H&nbsp;0I&nbsp;0J&nbsp;0K&nbsp;0L&nbsp;0M&nbsp;0N&nbsp;0O&nbsp;0P&nbsp;0Q&nbsp;0R&nbsp;0S&nbsp;0T&nbsp;0U&nbsp;0V&nbsp;1G&nbsp;1H&nbsp;1I&nbsp;1J&nbsp;1K&nbsp;1L&nbsp;1M&nbsp;1N&nbsp;1O&nbsp;1P&nbsp;1Q&nbsp;1R&nbsp;1S&nbsp;1T&nbsp;1U&nbsp;1V</tt><br><tt>2G&nbsp;2H&nbsp;2I&nbsp;2J&nbsp;2K&nbsp;2L&nbsp;2M&nbsp;2N&nbsp;2O&nbsp;2P&nbsp;2Q&nbsp;2R&nbsp;2S&nbsp;2T&nbsp;2U&nbsp;2V&nbsp;3G&nbsp;3H&nbsp;3I&nbsp;3J&nbsp;3K&nbsp;3L&nbsp;3M&nbsp;3N&nbsp;3O&nbsp;3P&nbsp;3Q&nbsp;3R&nbsp;3S&nbsp;3T&nbsp;3U&nbsp;3V</tt><br><tt>4G&nbsp;4H&nbsp;4I&nbsp;4J&nbsp;4K&nbsp;4L&nbsp;4M&nbsp;4N&nbsp;4O&nbsp;4P&nbsp;4Q&nbsp;4R&nbsp;4S&nbsp;4T&nbsp;4U&nbsp;4V&nbsp;5G&nbsp;5H&nbsp;5I&nbsp;5J&nbsp;5K&nbsp;5L&nbsp;5M&nbsp;5N&nbsp;5O&nbsp;5P&nbsp;5Q&nbsp;5R&nbsp;5S&nbsp;5T&nbsp;5U&nbsp;5V</tt><br><tt>6G&nbsp;6H&nbsp;6I&nbsp;6J&nbsp;6K&nbsp;6L&nbsp;6M&nbsp;6N&nbsp;6O&nbsp;6P&nbsp;6Q&nbsp;6R&nbsp;6S&nbsp;6T&nbsp;6U&nbsp;6V&nbsp;7G&nbsp;7H&nbsp;7I&nbsp;7J&nbsp;7K&nbsp;7L&nbsp;7M&nbsp;7N&nbsp;7O&nbsp;7P&nbsp;7Q&nbsp;7R&nbsp;7S&nbsp;7T&nbsp;7U&nbsp;7V </tt>
</td></tr>
</table>
</td></tr></table>
<br><br>
Notice how the rectangular 16*8 blocks have ended up as sequential
data, ready for direct reading by the GE.
     <div class="idx"><a href="index.html#idx27.6">index</a></div>
<h3>
<a name="sec27.6">
27.6</a>&nbsp;&nbsp;S3TC Compression</h3>
<br>
Texture formats 8, 9 and 10 are DXT1, DXT3 and DXT5. The hardwares
format is a little different from the standard (as you'd find in a
.DDS file, for example).
      <div class="idx"><a href="index.html#idx27.6.1">index</a></div>
<h4>
<a name="sec27.6.1">
27.6.1</a>&nbsp;&nbsp;DXT1</h4>
<br>
For DXT1, each 4x4 texel block has 2 16-bit 565 colours, and 16 2-bit
per-texel fields (8 bytes/block). The PSP hardware expects the per-texel
bits to come first, followed by the two colours. Colours are in RGB
565 format.
      <div class="idx"><a href="index.html#idx27.6.2">index</a></div>
<h4>
<a name="sec27.6.2">
27.6.2</a>&nbsp;&nbsp;DXT3</h4>
<br><div class="idx"><a href="index.html#idx27.6.3">index</a></div>
<h4>
<a name="sec27.6.3">
27.6.3</a>&nbsp;&nbsp;DXT5</h4>
<br>
For DXT3 and DXT5, each 4x4 block has 8 bytes of alpha data followed
by 8 bytes of pixel data. The PSP reverses this, so it wants the pixel
data followed by alpha data. Also, the pixel data is normally encoded
in the same way as the DXT1 blocks, which is also true for the PSP.
The encoding is the same as for DXT1 textures, the colours are in
RGB 565 format.
 <div class="idx"><a href="index.html#idx28">index</a></div>
</body></html>
